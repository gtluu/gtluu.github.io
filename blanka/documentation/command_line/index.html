<html>
	<head>
		<title>BLANKA</title>
        <link href="/css/blanka_documentation_command_line.css" type="text/css" rel="stylesheet"/>
        <link href="/css/blanka_header.css" type="text/css" rel="stylesheet"/>
        <link href="/css/blanka_documentation_sidebar.css" type="text/css" rel="stylesheet"/>
    </head>
	<body>
        <header>
            <nav>
                <ul>
                    <li style="float:left"><a href="/blanka/index.html">BLANKA</a></li>
                    <li style="float:right;width:190px;text-align:center;border-left:1.5px solid rgb(249,246,249)"><a href="/index.html">Gordon's Website</a></li>
                    <li style="float:right;width:235px;text-align:center;border-left:1.5px solid rgb(249,246,249);border-right:1.5px solid rgb(249,246,249)"><a href="https://www.sanchezlab.science/">Sanchez Lab Website</a></li>
                    <li style="float:right;width:175px;text-align:center;border-left:1.5px solid rgb(249,246,249);border-right:1.5px solid rgb(249,246,249)"><a href="/blanka/documentation/index.html">Documentation</a></li>
                    <li style="float:right;width:90px;text-align:center;border-right:1.5px solid rgb(249,246,249)"><a href="/blanka/index.html" class="current">About</a></li>
                </ul>
            </nav>
            <div id="box">
            </div>
        </header>
        <div id="sidebar">
            <ul>
                <li><a href="/blanka/documentation/index.html">Getting Started</a></li>
                <li><a href="/blanka/documentation/command_line/index.html">Run BLANKA on the Command Line</a></li>
                <li><a href="/blanka/documentation/gui/index.html">Run BLANKA GUI</a></li>
            </ul>
        </div>
        <article>
            <h1>Run BLANKA on the Command Line</h1>
            <ol>
                <li>Open the terminal of your choice (i.e. Command Prompt, Powershell, Windows Subsystem for Linux, Anaconda Prompt, etc.).</li>
                <li>Run the <code>run_blanka.py</code> script with the any of the arguments described below.</li>
                <h4>Required Arguments</h4>
                <table>
                    <tr>
                        <th>Argument</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>--sample</td>
                        <td>File/directory containing files to be processed. Files can be raw data formats supported by Proteowizard's MSConvert or .mzXML files.</td>
                    </tr>
                    <tr>
                        <td>--control</td>
                        <td>
                            LC-MS/MS Mode: File/directory containing files to be used as controls. Files can be raw data formats supported by Proteowizard's MSConvert or .mzXML files.
                            <br>
                            MALDI DD Mode: Name of the spots to be used as control.
                        </td>
                    </tr>
                    <tr>
                        <td>--instrument</td>
                        <td>
                            Instrument/experiment used to generate data to be processed.
                            <br>
                            <code>lcq</code> = LCQ or other Thermo LC-MS instruments
                            <br>
                            <code>qtof</code> =  Bruker QTOF or other Bruker LC-MS instruments
                            <br>
                            <code>dd</code> = Bruker MALDI-TOF dried droplet instrument/experiment
                        </td>
                    </tr>
                </table>
                <h4>Optional Arguments</h4>
                <table>
                    <tr>
                        <th>Argument</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>--output</td>
                        <td>Directory to output files generated by BLANKA. Defaults to directory sample file(s) are located in.</td>
                    </tr>
                    <tr>
                        <td>--signal_noise_ratio</td>
                        <td>
                            Signal to noise ratio used for noise removal.
                            <br>
                            Default = 4:1 ratio
                        </td>
                    </tr>
                    <tr>
                        <td>--retention_time_tolerance</td>
                        <td>
                            Plus-minus tolerance for retention time error for spectra matching.
                            <br>
                            Default = 0.1 seconds
                        </td>
                    </tr>
                    <tr>
                        <td>--precursor_mz_tolerance</td>
                        <td>
                            Plus-minus tolerance for precursor m/z error for spectra matching.
                            <br>
                            Default = 0.02 Daltons
                        </td>
                    </tr>
                    <tr>
                        <td>--peak_mz_tolerance</td>
                        <td>
                            Plus-minus tolerance for peak m/z error for blank removal.
                            <br>
                            Default = 0.02 Daltons
                        </td>
                    </tr>
                    <tr>
                        <td>--noise_removal_only</td>
                        <td>Use to perform only noise removal on sample data.</td>
                    </tr>
                    <tr>
                        <td>--blank_removal_only</td>
                        <td>Use to perform only blank removal on sample data.</td>
                    </tr>
                    <tr>
                        <td>--ms1_threshold</td>
                        <td>
                            Intensity ratio threshold for removal of blank spectra from MS1 data; value between 0 - 1.
                            <br>
                            Default = 0.5
                        </td>
                    </tr>
                    <tr>
                        <td>--ms2_threshold</td>
                        <td>
                            Intensity ratio threshold for removal of blank spectra from MS2 data; value between 0 - 1.
                            <br>
                            Default = 0.2
                        </td>
                    </tr>
                    <tr>
                        <td>--cpu</td>
                        <td>
                            Number of CPU threads to use for processing. Memory (RAM) requirements scale with increased number of threads.
                            <br>
                            Default = total number of threads - 1
                        </td>
                    </tr>
                    <tr>
                        <td>--verbose</td>
                        <td>Display progress/log information during processing.</td>
                    </tr>
                </table>
                <br>
                <li>After completion, output files will be found in the output directory or the directory containing the original sample files.</li>
            </ol>
            <h1>Examples</h1>
            <ul>
                <li>Print usage information.</li>
                <br>
                <code>python /path/to/run_blanka.py --help</code>
                <br>
                <br>
                <li>Perform noise and blank removal on data <code>actinomycetes.mzXML</code>.</li>
                <br>
                <code>python /path/to/run_blanka.py --sample /path/to/actinomycetes.mzXML --control /path/to/media_control.mzXML --instrument lcq</code>
                <br>
                <br>
                <li>Perform noise and blank removal on data found in the <code>lcms_data</code> folder and outputs to new directory.</li>
                <br>
                <code>python /path/to/run_blanka.py --sample /path/to/lcms_data --control /path/to/media_control.mzXML --output /path/to/blanka_output --instrument lcq</code>
                <br>
                <br>
                <li>Convert Thermo .RAW data files to .mzXML using MSConvert and perform noise and blank removal on <code>actinomycetes.mzXML</code>.</li>
                <br>
                <code>python /path/to/run_blanka.py --sample /path/to/actinomycetes.RAW --control /path/to/media_control.RAW --instrument lcq</code>
                <br>
                <br>
                <li>Perform noise and blank removal on <code>actinomycetes.mzXML</code> with user defined retention time tolerance (in seconds) and precursor m/z tolerance (in Daltons).</li>
                <br>
                <code>python /path/to/run_blanka.py --sample /path/to/actinomycetes.mzXML --control /path/to/media_control.mzXML --instrument lcq --retention_time_tolerance 0.5 --peak_mz_tolerance 0.1</code>
                <br>
                <br>
                <li>Perform noise and blank removal on MALDI-TOF dried droplet data using 'media_control' spots as the control.</li>
                <br>
                <code>python /path/to/run_blanka.py --sample /path/to/maldi_data --control media_control --output /path/to/blanka_output --instrument dd</code>
                <br>
                <br>
                <li>Perform blank removal only on MALDI-TOF dried droplet data using 'media_control' spots as control.</li>
                <br>
                <code>python /path/to/run_blanka.py --sample /path/to/maldi_data --control media_control --output /path/to/blanka_output --instrument dd --blank_removal_only</code>
            </ul>
        </article>
    </body>
</html>